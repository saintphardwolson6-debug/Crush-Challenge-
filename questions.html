const questions = [
  {q:"Quel est ton plat préféré ?", choices:["Pizza","Burger","Tacos","Poulet grillé"], answer:0},
  {q:"Ta couleur favorite ?", choices:["Rouge","Bleu","Vert","Noir"], answer:1},
  {q:"Ton sport préféré ?", choices:["Football","Basketball","Natation","Boxe"], answer:0},
  {q:"Film romantique préféré ?", choices:["Titanic","After","The Notebook","LOL"], answer:2},
  {q:"Boisson favorite ?", choices:["Jus","Coca","Café","Eau"], answer:0},
  {q:"Ton animal préféré ?", choices:["Chat","Chien","Lapin","Cheval"], answer:1},
  {q:"Ta saison préférée ?", choices:["Été","Hiver","Printemps","Automne"], answer:0},
  {q:"Si tu pouvais voyager ?", choices:["Paris","Bali","New York","Tokyo"], answer:1},
  {q:"Appli préférée ?", choices:["TikTok","Instagram","Snapchat","YouTube"], answer:0},
  {q:"Ton style musical ?", choices:["Rap","Pop","Afro","Kompa"], answer:3}
];

let current = 0;
let score = 0;

const questionEl = document.getElementById('question');
const choicesEl = document.getElementById('choices');
const progressEl = document.getElementById('progress-text');
const clickSound = document.getElementById('clickSound');

function loadQuestion() {
  const q = questions[current];
  questionEl.textContent = q.q;
  choicesEl.innerHTML = '';

  q.choices.forEach((choice, i) => {
    const btn = document.createElement('button');
    btn.classList.add('choice');
    btn.textContent = choice;
    btn.onclick = () => selectChoice(i);
    choicesEl.appendChild(btn);
  });

  progressEl.textContent = `Question ${current + 1}/10`;
}

function selectChoice(index) {
  clickSound.play();
  if(index === questions[current].answer) score++;
  current++;
  if(current < questions.length) {
    loadQuestion();
  } else {
    localStorage.setItem('score', score);
    window.location.href = 'resultat.html';
  }
}

loadQuestion();